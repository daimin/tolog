/*
SQLyog Community v11.1 Beta1 (32 bit)
MySQL - 5.1.50-community : Database - webpy_blog
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`tologd` /*!40100 DEFAULT CHARACTER SET utf8 */;

USE `tologd`;

/*Table structure for table `to_admin` */

DROP TABLE IF EXISTS `to_admin`;

CREATE TABLE `to_admin` (
  `username` varchar(40) NOT NULL,
  `password` varchar(40) NOT NULL,
  PRIMARY KEY (`username`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

/*Data for the table `to_admin` */

insert  into `to_admin`(`username`,`password`) values ('admin','21232f297a57a5a743894a0e4a801fc3');

/*Table structure for table `to_content` */

DROP TABLE IF EXISTS `to_content`;

CREATE TABLE `to_content` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(200) NOT NULL DEFAULT '',
  `content` longtext,
  `view_num` int(11) NOT NULL DEFAULT '0',
  `createtime` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `modifytime` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `is_md` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=47 DEFAULT CHARSET=utf8;

/*Data for the table `to_content` */

insert  into `to_content`(`id`,`title`,`content`,`view_num`,`createtime`,`modifytime`,`is_md`) values (9,'面粉，白才好吗？','&lt;p style=&quot;padding: 0px; margin: 0px 0px 10px; font-size: 14px; color: rgb(85, 85, 85); font-family: &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; line-height: 22px;&quot;&gt;白似乎是我们对于面食的终极追求，不管是武大郎做的炊饼，还是杜十娘煮的面汤，无不以白为美。在旧时，家家都还以吃上大白馒头而自豪。难道，这面粉越白质量就越高吗？&lt;/p&gt;&lt;div class=&quot;section&quot; id=&quot;id1&quot; style=&quot;padding: 0px; margin: 0px; font-size: 14px; color: rgb(85, 85, 85); font-family: &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; line-height: 22px;&quot;&gt;&lt;h2 style=&quot;padding: 0px; margin: 10px 0px; font-weight: normal; font-size: 30px; font-family: &#39;Josefin Sans&#39;, &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; line-height: 40px; color: inherit; text-rendering: optimizelegibility;&quot;&gt;不白？那是有原因的&lt;/h2&gt;&lt;p style=&quot;padding: 0px; margin: 0px 0px 10px;&quot;&gt;我们吃的面粉取自小麦种子的胚乳（磨面时去掉了麦粒的其他部分——果皮、种皮、胚等组织，就是通常所说的麸皮），而胚乳是个由淀粉和蛋白质组成的营养储存仓库，本职工作是在小麦种子萌发时提供营养，现在“兼职”做了人类的口粮。&lt;/p&gt;&lt;p style=&quot;padding: 0px; margin: 0px 0px 10px;&quot;&gt;&lt;/p&gt;&lt;pre&gt;int i = 0;\r\nfor(i = 0; i&amp;lt; 100;i++){\r\n   printf(i);\r\n}\r\n\r\n&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;',0,'2013-07-23 06:17:40','2013-07-23 03:26:13',0),(11,'灾难日：中国互联网惨遭Struts2高危漏洞摧残','&lt;span style=&quot;font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;Struts是Apache基金会Jakarta项目组的一个开源项目，Struts通过采用Java Servlet/JSP技术，实现了基于Java EE Web应用的Model-View-Controller（MVC）设计模式的应用框架，是MVC经典设计模式中的一个经典产品。目前，Struts广泛应用于大型互联网企业、政府、金融机构等网站建设，并作为网站开发的底层模板使用，是应用最广泛的Web应用框架之一。&lt;/span&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;span style=&quot;font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;近日，Struts2曝出2个高危安全漏洞，一个是使用缩写的导航参数前缀时的远程代码执行漏洞，另一个是使用缩写的重定向参数前缀时的开放式重定向漏洞。这些漏洞可使黑客取得网站服务器的“最高权限”，从而使企业服务器变成黑客手中的“肉鸡”。&lt;/span&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;span style=&quot;font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;Apache Struts团队已发布了最新的Struts 2.3.15.1，修复了上述漏洞，建议采用Struts 2.0至Struts 2.3的网站开发者尽快升级至最新版。&lt;/span&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;span style=&quot;font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;据乌云平台漏洞报告，淘宝、京东、腾讯等大型互联网厂商均受此影响，而且漏洞利用代码已经被强化，可直接通过浏览器的提交对服务器进行任意操作并获取敏感内容。Struts漏洞影响巨大，受影响站点以电商、银行、门户、政府居多，而且一些自动化、傻瓜化的利用工具开始出现，填入地址可直接执行服务器命令，读取数据甚至直接关机等操作。&lt;/span&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;br style=&quot;margin: 0px; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot; /&gt;&lt;span style=&quot;font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;灾难日：中国互联网惨遭Struts2高危漏洞摧残&lt;/span&gt;',0,'2013-07-23 07:42:42','2013-07-23 07:42:42',0),(12,'123','12312',0,'2013-07-23 10:10:08','2013-07-23 10:10:08',0),(13,'12312','12312',0,'2013-07-23 10:10:41','2013-07-23 10:10:41',0),(14,'揭秘史上最昂贵的一行 JavaScript 代码','&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;最昂贵的Javascript代码缘起：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;前一段时间，Opera 浏览器公司需要越来越多的服务器。本身公司预见到 Opera Mini, Opera Link, Opera Turbo 会带来爆炸性增长，所以要添置 N 台服务器，减缓服务器压力。（事实上 Opera 确实迎来了爆炸式增长，可以参见每月公布的全球移动互联网报告。）&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;由于这些服务都是吃服务器的，Opera Mini 服务器要为全球几千万手机用户省流量加速，Opera Turbo 则负责电脑全网加速，Opera Link 频繁同步保证用户数千实时更新。所以需要添置的服务器不是几台的数量级，管理层批准整个订单的预算达几百万克朗（当前汇价1挪威克朗基本等于1元人民币）。&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;最昂贵的Javascript代码的经过：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;信息系统部门的技术控们海皮起来了，这帮人的工作性质决定他们在服务器身上花的时间比在异性朋友身上都多。经过他们的上蹿下跳，公司采购到了收集样机测试的流程。所有供货商把机器发到挪威奥斯陆总部进行测试试用。&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;技术控们像条女朋友一样挑服务器，直到一台服务器把他们全部击溃了。这台服务器来自所有人都知道的全球一级厂商（名字不敢提）。当Opera工作人员启动之后，用Opera 浏览器访问管理界面，被直接转到错误界面。这还不是问题全部，当找到问题根源时，连同 CSS 发明人（现任 Opera CTO）带旗下所有人都崩溃了。&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;错误的原因是，服务器管理界面被下面一个经销商加了一行Javascript代码，判断到 Opera 浏览器访问管理界面直接粗暴的转向错误页面。&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;结果：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;由于这行Javascript代码，此公司成功的激怒了 Opera 公司所有相关人员，成功的丢掉了这笔百万大单。Opera 公司感到奇怪，写明代码找我们浏览器的麻烦，还想卖给我们公司服务器？&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;元凶：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 15pt; padding: 0px; font-family: Verdana, sans-serif, 宋体; font-size: 14px; line-height: 22px;&quot;&gt;就是一行Javascript代码，逻辑是简单粗暴的处理用户，发现用户使用Opera 浏览器直接转向错误页面。 这算是史上最昂贵的Javascript代码了。&lt;/p&gt;&lt;pre style=&quot;margin-top: 10px; margin-bottom: 10px; padding: 5px; font-size: 9pt; font-family: &#39;Courier New&#39;, Arial; border-width: 1px 1px 1px 5px; border-style: solid; border-color: rgb(221, 221, 221) rgb(221, 221, 221) rgb(221, 221, 221) rgb(108, 226, 108); background-color: rgb(246, 246, 246); white-space: pre-wrap; word-wrap: break-word;&quot;&gt;&amp;nbsp;(is.opera)&amp;nbsp;{&amp;nbsp;window.location.href=&lt;span style=&quot;margin: 0px; padding: 0px; color: blue; background-color: inherit;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;quot;config/error.htm&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px; background-color: inherit;&quot;&gt;;&amp;nbsp;}&amp;nbsp;&lt;/span&gt;&lt;/pre&gt;',57,'2013-07-24 07:19:14','2013-07-24 07:19:14',0),(15,'有钱难买“早知道”','&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;早上跟我爱人一起上班，我单位比他近一点先下车，临下车互相亲了一下，下车看见同事正看着我，好尴尬。一块往电梯走，闲聊。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;同事：刚才那个你朋友呀？&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;我：我爱人&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;同事：你刚结婚呀？&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;我：好几年了。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;同事：感情还这么好？！&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;我：凑合吧。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;同事：他每天都送你上班吗？&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;我：不一定，赶上就一块走。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;同事：你们俩怎么认识的？&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;我：打台球。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;同事：打台球认识的还能谈恋爱呀。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;我：也不全是，他跟我借了本书。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;同事：早知道我也去学打台球了。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;这让我想起了另外两个“早知道”的故事&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;M（去年的实习生实在是跟我没什么关系）跟我抱怨金融业不景气，工作不好找，他运气不好，而跟他一起实习的W运气好，已经找到工作。我想了想，说“嗯” &lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;其实W怎么找到工作的？因为W认识了一个HR，为什么认识了HR，因为W去年参加了一个策略报告会，W为什么去参加，因为我给了W一张票，为什么给W一张票，因为我给M，M没要。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;M说：早知道我就去了。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;当初第一次写这件事的时候，一位叫加农的友邻对这件事的评价我很赞同“效率极低人群七大习惯之一：缺席。”另外一位叫依依柒的友邻说的我也很喜欢“各种能想到的理由，天时地利人和，有些事情的发生就源于你最初的态度”“所以积极的面对事情，就算暂时不会有收获，总有一天，会因为你的某些行为而带来你所想不到的意外，这种意外就被认定为是运气好”。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;还有一个是跟我有点关系的，我结婚的时候在家办流水席，为了给单身的创造点机会，我把单身的安排在一桌坐，并且给他们做了介绍，甚至帮他们找好了共同话题。还真的有一对成的，不光结识还顺利的恋爱结婚，已经有了小宝宝。孩子出生前，两个人买学区房。我托当时跟他们俩一桌的D大姐帮他们介绍。事后D大姐问我：你不说他没车、没房IT男吗？怎么突然有钱了。我说：他参股的一公司去年上市了，上市前股改，他得了一大笔钱。D大姐说：早知道我就多跟他聊聊了。他当时还主动跟我换名片来着。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;我。。。。。。。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;看来早知道真是有很多的好处的，怪不得我爷爷说：有钱难买“早知道”。怪不得法国的纳德·兰塞姆说：假如时光可以倒流，世界上将有一半的人可以成为伟人。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;友邻建议我加上以前文章里引用的一段话。&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot; /&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;索甲仁波切的《西藏生死书》中有一段话：诚如佛陀所说“现在的你，是过去的你所造；未来的你，是现在的你所造。” 莲花生大士进一步说：“如果你想知道你的过去式，看一看你现在的状况；如果你想知道你的未来世，看看你目前的行为。”&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;pre&gt;\r\n#-*- coding:utf-8 -*-\r\n\r\n&amp;quot;&amp;quot;&amp;quot; Basic blog using webpy 0.3 &amp;quot;&amp;quot;&amp;quot;\r\nimport os\r\nimport datetime\r\nimport web\r\nimport conf\r\nimport util\r\n\r\nimport model\r\n\r\n### Url mappings \r\n\r\nurls = (\r\n    r&#39;/(\\d*)&#39;, &#39;Index&#39;,\r\n    r&#39;/view/(\\d*)&#39;, &#39;View&#39;,\r\n    r&#39;/new&#39;, &#39;New&#39;,\r\n    r&#39;/delete/(\\d+)&#39;, &#39;Delete&#39;,\r\n    r&#39;/edit/(\\d+)&#39;, &#39;Edit&#39;,\r\n    r&#39;/login/?&#39;, &#39;Login&#39;,\r\n    r&#39;/logout/?&#39;, &#39;Logout&#39;,\r\n    r&#39;/static/(.*)&#39;, &#39;StaticHandler&#39;,\r\n)\r\n\r\napp_root = os.path.dirname(__file__)\r\ntemplates_root = os.path.join(app_root, &#39;templates&#39;)\r\nstatic_root = os.path.join(app_root, &#39;static&#39;)\r\n\r\n### Templates\r\nt_globals = {\r\n    &#39;datestr&#39;: web.datestr,\r\n    &#39;datefmt&#39;: datetime.datetime.strftime\r\n}\r\n\r\nrender = web.template.render(templates_root, base=&#39;base&#39;, globals=t_globals)\r\n\r\n\r\nclass Index:\r\n\r\n    def GET(self, page):\r\n        &amp;quot;&amp;quot;&amp;quot; Show page &amp;quot;&amp;quot;&amp;quot;\r\n        \r\n        tmp_posts = model.get_posts(page)\r\n        posts = tmp_posts[0]\r\n        pageDict = tmp_posts[1]\r\n        newPosts = []\r\n        for p in posts:\r\n            p.content = web.net.htmlunquote(p.content)\r\n            newPosts.append(p)\r\n        \r\n        return render.index(newPosts, pageDict, util.get_login())\r\n\r\n\r\nclass View:\r\n\r\n    def GET(self, id):\r\n        &amp;quot;&amp;quot;&amp;quot; View single post &amp;quot;&amp;quot;&amp;quot;\r\n        post = model.get_post(int(id))\r\n        post.content = web.net.htmlunquote(post.content)\r\n        return render.view(post, util.get_login())\r\n\r\n\r\nclass New:\r\n\r\n    form = web.form.Form(\r\n        web.form.Textbox(&#39;title&#39;, web.form.notnull, \r\n            size=30,\r\n            description=&amp;quot;文档标题:&amp;quot;),\r\n        web.form.Textarea(&#39;content&#39;, web.form.notnull, \r\n            rows=30, cols=80,\r\n            description=&amp;quot;文档内容:&amp;quot;),\r\n        web.form.Textbox(&#39;tag&#39;, web.form.regexp(r&amp;quot;.{0,200}$&amp;quot;, &#39;只能不多于200个字符&#39;), \r\n            rows=30,\r\n            description=&amp;quot;标签(请用,分隔):&amp;quot;),\r\n        web.form.Button(&#39;发表文档&#39;, web.form.regexp(r&amp;quot;.*$&amp;quot;, &#39;&#39;), id=&amp;quot;submit_btn&amp;quot;),\r\n    )\r\n\r\n    def __init__(self):\r\n        self.render = web.template.render(templates_root,base=&#39;admin_base&#39;, globals=t_globals)\r\n        \r\n    \r\n    def GET(self):\r\n        util.vali_login()\r\n        form = self.form()\r\n        return self.render.new(form)\r\n\r\n    def POST(self):\r\n        util.vali_login()\r\n        form = self.form()\r\n        if not form.validates():\r\n            return self.render.new(form)\r\n        title = web.net.htmlquote(form.d.title)\r\n        \r\n        content = util.encode_newLine(form.d.content)\r\n        content = web.net.htmlquote(content)\r\n        \r\n        tag = web.net.htmlquote(form.d.tag)\r\n        model.new_post(title, content, tag)\r\n        raise web.seeother(&#39;/&#39;)\r\n\r\n\r\nclass Delete:\r\n\r\n    def POST(self, id):\r\n        util.vali_login()\r\n        model.del_post(int(id))\r\n        raise web.seeother(&#39;/&#39;)\r\n\r\n\r\nclass Edit:\r\n\r\n    def GET(self, id):\r\n        util.vali_login()\r\n        render = web.template.render(templates_root,base=&#39;admin_base&#39;, globals=t_globals)\r\n        post = model.get_post(int(id))\r\n        post.content = web.net.htmlunquote(post.content)\r\n        post.content = util.decode_newLine(post.content)\r\n        form = New.form()\r\n        form.fill(post)\r\n        return render.edit(post, form)\r\n\r\n\r\n    def POST(self, id):\r\n        util.vali_login()\r\n        form = New.form()\r\n        post = model.get_post(int(id))\r\n        if not form.validates():\r\n            return render.edit(post, form)\r\n        title = web.net.htmlquote(form.d.title)\r\n        content = util.encode_newLine(form.d.content)\r\n        content = web.net.htmlquote(content)\r\n        \r\n        model.update_post(int(id), title, content)\r\n        raise web.seeother(&#39;/&#39;)\r\n    \r\nclass Login():\r\n    \r\n    def GET(self):\r\n        &amp;quot;&amp;quot;&amp;quot; View single post &amp;quot;&amp;quot;&amp;quot;\r\n        render = web.template.render(&#39;templates&#39;, globals=t_globals)\r\n        return render.login()\r\n    \r\n    def POST(self):\r\n        input_data = web.input()\r\n        render = web.template.render(&#39;templates&#39;, globals=t_globals)\r\n        username = input_data.username\r\n        password = input_data.password\r\n        username = username.strip()\r\n        password = password.strip()\r\n        if username == &amp;quot;&amp;quot;:\r\n            return  render.err(err=&#39;用户名不可为空&#39;)\r\n        if password == &amp;quot;&amp;quot;:\r\n            return  render.err(err=&#39;密码不可为空&#39;)\r\n        \r\n        import hashlib\r\n        user = model.get_password_by_name(username)\r\n        if user == None:\r\n            return render.err(err=&#39;用户不存在&#39;)\r\n        else:\r\n            if user.password == hashlib.md5(password).hexdigest():\r\n                web.setcookie(conf.cookie_secure, username) \r\n                return render.success(msg=&#39;登陆成功&#39;,url=&amp;quot;/&amp;quot;)\r\n            else:\r\n                return render.err(err=&#39;密码错误&#39;)\r\n            \r\nclass Logout():\r\n    def GET(self):\r\n        web.setcookie(conf.cookie_secure, None,expires=&amp;quot;0&amp;quot;) \r\n        raise web.seeother(&#39;/&#39;)\r\n            \r\nclass StaticHandler():\r\n    def GET(self, res):\r\n        return util.read_static(os.path.join(static_root, res))\r\n            \r\n    \r\n#class Admin():\r\n#    def GET(self):\r\n#        setcookie(name, value): \r\n\r\n\r\n########===============================================================######\r\nweb.config.debug = True\r\napp = web.application(urls, globals())\r\nif __name__ == &amp;quot;__main__&amp;quot;:\r\n    app.run()\r\n#app = web.application(urls, globals()).wsgifunc()\r\n \r\n#from bae.core.wsgi import WSGIApplication\r\n#application = WSGIApplication(app)\r\n\r\n&lt;/pre&gt;&lt;br /&gt;&lt;/p&gt;',1,'2013-07-24 07:58:57','2013-07-24 07:22:20',0),(16,'留言板','在这里留言',1,'2013-07-24 08:19:59','2013-07-24 08:19:59',0),(17,'不要把自己推到死角','&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;小时候，我是个很较劲的孩子，这让我妈花费很多心思，有一次我好像对什么事不能释怀，我妈让我对着墙角站着，然后问我“地方小吗？憋得慌吗？”我说“小。憋得慌。”她说“那你倒是转过身呀！”我转过身，果然面对的是整个的院子。多年以后，我的小外甥，因为转到更好的学校读书而纠结，我姐姐也用类似的方法，她让我小外甥倒着走路，然后问他难受不难受，告诉他向前走就不难受了。几天以后，小外甥背着书包自己上学去了，在新的学校，认识新的同学，有了新的朋友。虽然不再有人陪他打兵乓球却学会了打篮球，安然的度过了他的青春期。&lt;/span&gt;',0,'2013-07-24 08:36:42','2013-07-24 08:36:42',0),(18,'不要把自己推到死角','&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;小时候，我是个很较劲的孩子，这让我妈花费很多心思，有一次我好像对什么事不能释怀，我妈让我对着墙角站着，然后问我“地方小吗？憋得慌吗？”我说“小。憋得慌。”她说“那你倒是转过身呀！”我转过身，果然面对的是整个的院子。多年以后，我的小外甥，因为转到更好的学校读书而纠结，我姐姐也用类似的方法，她让我小外甥倒着走路，然后问他难受不难受，告诉他向前走就不难受了。几天以后，小外甥背着书包自己上学去了，在新的学校，认识新的同学，有了新的朋友。虽然不再有人陪他打兵乓球却学会了打篮球，安然的度过了他的青春期。&lt;/span&gt;',0,'2013-07-24 08:40:02','2013-07-24 08:40:02',0),(19,'不要把自己推到死角','&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;小时候，我是个很较劲的孩子，这让我妈花费很多心思，有一次我好像对什么事不能释怀，我妈让我对着墙角站着，然后问我“地方小吗？憋得慌吗？”我说“小。憋得慌。”她说“那你倒是转过身呀！”我转过身，果然面对的是整个的院子。多年以后，我的小外甥，因为转到更好的学校读书而纠结，我姐姐也用类似的方法，她让我小外甥倒着走路，然后问他难受不难受，告诉他向前走就不难受了。几天以后，小外甥背着书包自己上学去了，在新的学校，认识新的同学，有了新的朋友。虽然不再有人陪他打兵乓球却学会了打篮球，安然的度过了他的青春期。&lt;/span&gt;',0,'2013-07-24 08:43:48','2013-07-24 08:43:48',0),(20,'不要把自己推到死角','&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;小时候，我是个很较劲的孩子，这让我妈花费很多心思，有一次我好像对什么事不能释怀，我妈让我对着墙角站着，然后问我“地方小吗？憋得慌吗？”我说“小。憋得慌。”她说“那你倒是转过身呀！”我转过身，果然面对的是整个的院子。多年以后，我的小外甥，因为转到更好的学校读书而纠结，我姐姐也用类似的方法，她让我小外甥倒着走路，然后问他难受不难受，告诉他向前走就不难受了。几天以后，小外甥背着书包自己上学去了，在新的学校，认识新的同学，有了新的朋友。虽然不再有人陪他打兵乓球却学会了打篮球，安然的度过了他的青春期。&lt;/span&gt;',2,'2013-07-24 08:44:27','2013-07-24 08:44:27',0),(21,'不要把自己推到死角','&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;小时候，我是个很较劲的孩子，这让我妈花费很多心思，有一次我好像对什么事不能释怀，我妈让我对着墙角站着，然后问我“地方小吗？憋得慌吗？”我说“小。憋得慌。”她说“那你倒是转过身呀！”我转过身，果然面对的是整个的院子。多年以后，我的小外甥，因为转到更好的学校读书而纠结，我姐姐也用类似的方法，她让我小外甥倒着走路，然后问他难受不难受，告诉他向前走就不难受了。几天以后，小外甥背着书包自己上学去了，在新的学校，认识新的同学，有了新的朋友。虽然不再有人陪他打兵乓球却学会了打篮球，安然的度过了他的青春期。&lt;/span&gt;',6,'2013-07-24 08:45:27','2013-07-24 08:45:27',0),(22,'不要把自己推到死角','&lt;span style=&quot;color: rgb(17, 17, 17); font-size: 13px; line-height: 21px; white-space: pre-wrap;&quot;&gt;小时候，我是个很较劲的孩子，这让我妈花费很多心思，有一次我好像对什么事不能释怀，我妈让我对着墙角站着，然后问我“地方小吗？憋得慌吗？”我说“小。憋得慌。”她说“那你倒是转过身呀！”我转过身，果然面对的是整个的院子。多年以后，我的小外甥，因为转到更好的学校读书而纠结，我姐姐也用类似的方法，她让我小外甥倒着走路，然后问他难受不难受，告诉他向前走就不难受了。几天以后，小外甥背着书包自己上学去了，在新的学校，认识新的同学，有了新的朋友。虽然不再有人陪他打兵乓球却学会了打篮球，安然的度过了他的青春期。&lt;/span&gt;',11,'2013-07-24 08:47:51','2013-07-24 08:47:51',0),(23,'123','1231',2,'2013-07-24 08:48:24','2013-07-24 08:48:24',0),(24,'123','1231',1,'2013-07-24 08:49:16','2013-07-24 08:49:16',0),(25,'123','1231',1,'2013-07-24 08:49:33','2013-07-24 08:49:33',0),(26,'123','1231',1,'2013-07-24 08:50:11','2013-07-24 08:50:11',0),(27,'123','1231121312',1,'2013-07-24 08:50:29','2013-07-24 08:50:29',0),(28,'123','1231121312',1,'2013-07-24 08:50:58','2013-07-24 08:50:58',0),(29,'123','1231121312',1,'2013-07-24 08:55:06','2013-07-24 08:55:06',0),(30,'123','1231121312',2,'2013-07-24 08:55:46','2013-07-24 08:55:46',0),(31,'123','1231121312',1,'2013-07-24 08:56:11','2013-07-24 08:56:11',0),(32,'123','1231121312',1,'2013-07-24 08:56:41','2013-07-24 08:56:41',0),(33,'123','1231121312',1,'2013-07-24 08:57:06','2013-07-24 08:57:06',0),(34,'123','1231121312',1,'2013-07-24 08:57:39','2013-07-24 08:57:39',0),(35,'123','1231121312',1,'2013-07-24 09:57:11','2013-07-24 08:58:15',0),(36,'123','1231121312',67,'2013-07-24 09:18:11','2013-07-24 08:59:15',0),(37,'123','1232131',1,'2013-07-25 07:54:07','2013-07-25 07:53:09',0),(38,'112','#www',0,'2013-07-30 06:39:24','2013-07-30 06:39:24',0),(39,'22','&lt;h1&gt;我是&lt;/h1&gt;',1,'2013-07-30 06:49:11','2013-07-30 06:49:11',0),(40,'测试','&lt;h1&gt;你好&lt;/h1&gt;\r\n\r\n&lt;ul&gt;&lt;li&gt;我&lt;/li&gt;&lt;li&gt;他&lt;/li&gt;&lt;li&gt;你&lt;/li&gt;&lt;/ul&gt;',1,'2013-07-30 06:51:30','2013-07-30 06:51:30',0),(41,'代码','&lt;p&gt;&lt;strong&gt;*测试代码&lt;/strong&gt;&lt;/p&gt;\r\n\r\n&lt;pre&gt;&lt;code&gt;for i in ii:\r\n    print i&lt;/code&gt;&lt;/pre&gt;',3,'2013-07-30 06:52:25','2013-07-30 06:52:25',0),(42,'232','#232',3,'2013-07-30 07:06:42','2013-07-30 07:06:42',1),(43,'ddd','##ddd\r\n&gt;dddd',0,'2013-07-30 07:09:48','2013-07-30 07:09:48',1),(44,'代码测试','###擦擦擦擦\r\n    for i in ii:\r\n        print i\r\n\r\n1. 吃\r\n2. 喝\r\n3. 睡\r\n\r\n&gt; 懒货手册\r\n\r\n[百度](http://www.baidu.com)\r\n![OSChina](http://static.oschina.net/uploads/img/201307/23081500_a7hQ.jpg &quot;颁奖图片&quot;)\r\n&lt;img src=&quot;http://static.oschina.net/uploads/img/201307/23081500_a7hQ.jpg&quot; width=&quot;200&quot; height=&quot;150&quot; /&gt;\r\n\r\n',13,'2013-07-30 07:51:16','2013-07-30 07:20:43',1),(45,'图片测试','&lt;img src=&quot;http://static.oschina.net/uploads/space/2013/0722/195335_lWgd_28.jpg&quot; width=&quot;300&quot;/&gt;\r\n\r\n    for int i = 0\r\n        print i',9,'2013-08-05 09:21:57','2013-07-30 07:51:47',1),(46,'互联网怎么赚钱','之前看过支付宝首席商业智能官车品觉写的一篇文章：《不懂商业就别谈数据》，里面提到的观点就如标题所示，推而广之：不论是产品/运营、分析/挖掘，都需要你懂得一定的商业知识，有意识的去培养自己的商业思维与眼光，能透过数字看到事务的本质，否则你得出的结论、做出的决策就会仅仅停留在理论层面，脱离了实际，没有太大的价值。\r\n\r\n刚巧最近 “道哥的黑板报” 连载了 6 篇《互联网怎么赚钱》，觉得写得挺不错的，作者的行业经验丰富，对行业的发展与模式也分析的比较好，这个系列对技术人员来说，开拓视野是很有帮助的。今天作者刚好连载完了，现在收集整理下，以备忘。\r\n\r\n（一）广告撑起了互联网的一片天\r\n今天科普一下互联网的盈利模式，这是答应了之前一位朋友要写的文章，可能有些朋友虽然每天都在用互联网，但却不知道互联网上的这些公司是怎么赚钱的，为什么这些网站能把服务免费给你们用。这也很正常，想当年我加入阿里两年了，都没搞清楚公司怎么赚钱的。\r\n\r\n\r\n因为是科普文，所以也没什么新意，如果您对互联网的盈利模式很了解，那么此时可以关上手机，去陪陪家人了。\r\n\r\n\r\n我没有用“互联网的盈利模式”这种土鳖的名字，因为有太多的文章用这么个名字。所以我用了一个更土鳖的名字：“互联网怎么赚钱”，简单粗暴直接。\r\n\r\n\r\n互联网是一个非常神奇的地方，在这里普通用户使用的各项服务，居然大多数是免费的，这得益于杨致远和他所创立的Yahoo！。近些年来Yahoo！一直在走下坡路，杨致远也不再是Yahoo！的CEO和酋长，因此很多人对他抱着一种看笑话的心态。其实无论Yahoo！未来如何，它都已经在互联网的历史上留下了浓墨重彩的一笔，因为是Yahoo！开创的先河，通过“广告”的盈利模式，避免了让普通用户付费使用互联网。\r\n\r\n\r\n而此后，就像是约定俗成一般，大多数的互联网公司都延续了这种“对普通用户免费”的做法，用户也逐渐形成了“互联网是免费的”这一印象。也正是得益于对普通用户免费，互联网的用户数在早期才得以像病毒般的迅速膨胀和蔓延。而此前，无论是电报、电话、还是电视，在用户的普及上都经历了一个漫长了过程，少则十数年，多则数十年。Yahoo！早期的辉煌时代我无意在此展开陈述，关于这段历史可以参阅吴军老师写的《浪潮之巅》，我们还是把注意力集中到盈利模式上来。\r\n\r\n\r\n可以说是广告撑起了整个互联网。整个全球互联网广告产业的支出在2013年将达到950亿美元左右，而Google市值2000多亿美元，其每年收入超过90%来自广告。\r\n\r\n\r\n在形式上，互联网广告可以分为“站牌式”广告，和“精准投放”广告。传统的站牌式广告常见于网站的Banner等地方，它和电视广告、公路上的大站牌广告等无本质意义上的区别。站牌式广告无法发挥出互联网的优势，是一种暴殄天物的用法。而“精准投放”广告在互联网中简直是如鱼得水。',11,'2013-08-05 08:57:26','2013-08-05 08:40:03',1);

/*Table structure for table `to_metas` */

DROP TABLE IF EXISTS `to_metas`;

CREATE TABLE `to_metas` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(200) NOT NULL DEFAULT '',
  `type` varchar(10) NOT NULL DEFAULT 'tag',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;

/*Data for the table `to_metas` */

insert  into `to_metas`(`id`,`title`,`type`) values (1,'23','tag'),(2,'2','tag'),(3,'32','tag'),(4,'我去','tag'),(5,'哈哈','tag'),(6,'嘻嘻','tag'),(7,'你妹','tag'),(8,'123','tag'),(9,'21','tag'),(10,'支付宝','tag'),(11,'互联网','tag'),(12,'广告','tag');

/*Table structure for table `to_rel` */

DROP TABLE IF EXISTS `to_rel`;

CREATE TABLE `to_rel` (
  `cid` int(11) NOT NULL,
  `mid` int(11) NOT NULL,
  PRIMARY KEY (`cid`,`mid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

/*Data for the table `to_rel` */

insert  into `to_rel`(`cid`,`mid`) values (11,1),(11,2),(13,3),(13,4),(14,5),(14,6),(15,7),(15,8),(15,9),(16,10),(16,11),(16,12),(17,13),(17,14),(18,15),(18,16),(19,7),(19,17),(19,18),(20,7),(20,19),(21,20),(21,21),(21,22),(22,20),(22,23),(22,24),(22,25),(23,26),(23,27),(23,28),(23,29),(23,30),(24,31),(24,32),(24,33),(24,34),(24,35),(35,7),(36,4),(36,5),(36,6),(36,7),(37,8),(38,9),(46,10),(46,11),(46,12);

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
